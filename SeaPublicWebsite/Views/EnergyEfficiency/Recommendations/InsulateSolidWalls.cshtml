@using GovUkDesignSystem
@using GovUkDesignSystem.GovUkDesignSystemComponents
@model SeaPublicWebsite.Models.EnergyEfficiency.RecommendationViewModel;

@{
    ViewBag.Title = "Recommendation " + (Model.GetCurrentIndex() + 1) + " of " + Model.PropertyData.PropertyRecommendations.Count;
}

@section BeforeMain {
    @await Html.GovUkBackLink(new BackLinkViewModel
    {
        Text = "Back",
        Href = "#",

        // Note: some of the "Back" links in this journey can't use the default browser behaviour
        //  so we should control all of them explicitly
        OverrideWithJavascript = true
    })
}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">
        @{ await Html.RenderPartialAsync("Partials/YourActionPlanPartial.cshtml", Model); }
    </div>

    <div class="govuk-grid-column-two-thirds">


        <form action="@Url.Action("Recommendation_Post", "EnergyEfficiency", new { id = (int) Model.PropertyRecommendation.Key })" method="post" novalidate>

            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.PropertyData.Reference)

            <span class="govuk-caption-l">
                Recommendation @(Model.GetCurrentIndex() + 1) of @Model.PropertyData.PropertyRecommendations.Count
            </span>
            <h1 class="govuk-heading-l">Insulate your solid walls</h1>

            <p class="govuk-body">
                Based on the information we have collected; it looks like you have solid walls without a cavity, and that these are not insulated. You could consider insulating these walls to help trap the heat inside your property so your heating doesn’t need to be on as much.
            </p>

            <ul class="govuk-list govuk-list--bullet govuk-!-margin-bottom-7">
                <li>
                    Solid wall insulation can be fitted internally (internal wall insulation) or externally (external wall insulation). 
                </li>
                <li>
                    Internal wall insulation will slightly reduce the size of any rooms that have an external wall, and you will need to redecorate afterwards. 
                </li>
                <li>
                    External wall insulation is less disruptive to the inside of your home, but will change the external appearance of your home, so you will usually need planning permission. It’s unlikely to be allowed on the front of your property if you live in a conservation area.
                </li>
            </ul>

            <p class="govuk-body govuk-!-margin-bottom-6">
                You can find more information on solid wall insulation on the
                <a class="govuk-link" target="_blank" href="https://energysavingtrust.org.uk/advice/solid-wall-insulation/">Energy Saving Trust website.<span class="govuk-visually-hidden">(opens in a new window)</span></a>
            </p>

            <h2 class="govuk-heading-m">Who this improvement is suitable for</h2>
            <p class="govuk-body">You should consider this improvement for your property if:</p>
            <ul class="govuk-list govuk-list--bullet govuk-!-margin-bottom-7">
                <li>
                    You have solid brick or stone walls with no cavity (this is common for homes built before 1920).
                </li>
                <li>
                    Your home is a non-standard construction such as steel frame, timber frame or concrete. 
                </li>
            </ul>

            <div class="govuk-warning-text govuk-!-margin-bottom-7">
                <span class="govuk-warning-text__icon  sea-warning-text__icon--long" aria-hidden="true">!</span>
                <strong class="govuk-warning-text__text">
                    <span class="govuk-warning-text__assistive">Caution</span>
                    You will need a specialist contractor to assess what the best way is to insulate your walls, and to carry out the work. This is not a DIY job, or one for a general builder.
                </strong>
            </div>

            <h2 class="govuk-heading-m ">
                What you could save
            </h2>

            <p class="govuk-body">Solid wall insulation is expected to last <b>around @Model.PropertyRecommendation.Lifetime years</b></p>

            @{ await Html.RenderPartialAsync("Partials/WhatYouCouldSavePartial.cshtml", Model); }

            <div class="govuk-warning-text">
                <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
                <strong class="govuk-warning-text__text">
                    <span class="govuk-warning-text__assistive">Note</span>
                    These figures are for a typical installation in a home like yours.
                    The costs and savings you experience will be affected by your circumstances,
                    the details of the installations, and future energy tariffs.
                </strong>
            </div>

            <dl class="govuk-summary-list govuk-!-margin-bottom-9">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key govuk-!-width-two-thirds">
                        Will this cause disruption during installation?
                    </dt>
                    <dd class="govuk-summary-list__value sea-recommendation-impact govuk-!-padding-right-0">
                        <strong class="govuk-tag govuk-tag--red">MEDIUM TO VERY SIGNIFICANT</strong>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key govuk-!-width-two-thirds">
                        How long could this take to install?
                    </dt>
                    <dd class="govuk-summary-list__value sea-recommendation-impact govuk-!-padding-right-0">
                        <strong class="govuk-tag govuk-tag--red">SEVERAL DAYS</strong>
                    </dd>
                </div>
            </dl>

            @(await Html.GovUkRadiosFor(m => m.RecommendationAction,
                fieldsetOptions: new FieldsetViewModel
                {
                    Legend = new LegendViewModel
                    {
                        Html = @<text>
                                   <h1 class="govuk-fieldset__heading">
                                       Would you consider this improvement for your property?
                                   </h1>
                                </text>,
                        Classes = "govuk-fieldset__legend--l"
                    }
                }
                ))

            @{ await Html.RenderPartialAsync("Partials/ActionButtonsPartial.cshtml"); }

        </form>

    </div>
</div>