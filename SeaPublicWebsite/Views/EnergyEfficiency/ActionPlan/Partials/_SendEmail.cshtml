@using GovUkDesignSystem
@using GovUkDesignSystem.GovUkDesignSystemComponents
@using SeaPublicWebsite.Controllers
@model SeaPublicWebsite.Models.EnergyEfficiency.YourSavedRecommendationsEmailViewModel

@{
    var action = Model.FromActionPlan
        ? nameof(EnergyEfficiencyController.ActionPlan_Post) 
        : nameof(EnergyEfficiencyController.NoRecommendations_Post);
}

<form action="@Url.Action(action, "EnergyEfficiency", new { reference = Model.Reference })" method="post" novalidate>
    
    @Html.AntiForgeryToken()
    
    @if (Model.EmailSent)
    {
        <p id="email-sent" class="govuk-body sea-email-sent">
            Email sent to @Model.EmailAddress
        </p>
    }

    @await Html.GovUkTextInputFor(m => m.EmailAddress,
        labelOptions: new LabelViewModel
        {
            Text = "Enter your email address"
        },
        classes: "govuk-input--width-20",
        autocomplete: "email",
        placeholder: "e.g. my.email@example.com")

    @await Html.GovUkButton(new ButtonViewModel
    {
        Text = "Email a link to this Action Plan"
    })

</form>